{"code":"(this[\"webpackJsonpconversational-ui\"]=this[\"webpackJsonpconversational-ui\"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},79:function(e,t,n){\"use strict\";n.r(t);var a=n(0),s=n.n(a),o=n(12),c=n.n(o),r=(n(46),n(17)),i=n(15),u=n.n(i),h=n(31),l=n(32),m=n(33),d=n(41),g=n(40),b=(n(47),n(48),n(39)),v=n(34),j=n(7),p=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).initialiseChatClient=Object(h.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"http://localhost:8080/v1/token\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:a.user.id,name:a.user.name})});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a.chatClient=new v.a(n.apiKey),a.chatClient.connectUser(a.user,n.token),a.conversation=a.chatClient.channel(\"commerce\",\"conversational-ui\"),e.next=11,a.conversation.watch();case 11:a.conversation.on(\"message.new\",a.onNewMessage);case 12:case\"end\":return e.stop()}}),e)}))),a.addMessage=function(e){var t=e.message;if(a.user)a.conversation.sendMessage({text:t.text});else{a.user={name:t.text,id:Date.now().toString()};var n=Object.assign({},t);n.text=\"Welcome to the chat \".concat(t.text,\"!\"),n.author=a.bot,a.setState({messages:[].concat(Object(r.a)(a.state.messages),[n])}),a.initialiseChatClient()}},a.onNewMessage=function(e){var t={text:e.message.text,author:e.message.user,timestamp:e.message.created_at};a.setState({messages:[].concat(Object(r.a)(a.state.messages),[t])})},a.user=void 0,a.bot={id:\"0\",name:\"bot\"},a.state={messages:[{author:a.bot,timestamp:new Date,text:\"Hello! Please enter a name in order to start a chat\"}]},a}return Object(m.a)(n,[{key:\"render\",value:function(){return Object(j.jsxs)(\"div\",{className:\"App\",children:[Object(j.jsx)(\"h1\",{children:\"Conversational UI\"}),Object(j.jsx)(b.a,{user:this.user,messages:this.state.messages,onMessageSend:this.addMessage,placeholder:\"Type here...\",width:400})]})}}]),n}(s.a.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById(\"root\")),f()}},[[79,1,2]]]);","name":"static/js/main.ddd0d2e2.chunk.js","map":{"version":3,"sources":["static/js/main.ddd0d2e2.chunk.js"],"names":["this","push","46","module","exports","__webpack_require__","47","79","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","main","browser_es","jsx_runtime","src_App_0","_React$Component","Object","App","_super","props","_this","call","initialiseChatClient","a","mark","_callee","response","streamServerInfo","wrap","_context","prev","next","fetch","method","mode","headers","Content-Type","body","JSON","stringify","id","user","name","sent","json","chatClient","apiKey","connectUser","token","conversation","channel","watch","on","onNewMessage","stop","addMessage","_ref2","message","sendMessage","text","Date","now","toString","newMessage","assign","concat","author","bot","setState","messages","state","event","timestamp","created_at","undefined","key","value","className","children","onMessageSend","placeholder","width","Component","src_reportWebVitals","onPerfEntry","Function","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpconversational-ui\"] = this[\"webpackJsonpconversational-ui\"] || []).push([[0],{\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(12);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 5 modules\nvar toConsumableArray = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(15);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/@progress/kendo-theme-default/dist/all.css\nvar dist_all = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/@progress/kendo-react-conversational-ui/dist/es/main.js + 167 modules\nvar main = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/stream-chat/dist/browser.es.js\nvar browser_es = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.initialiseChatClient=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,streamServerInfo;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8080/v1/token\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:_this.user.id,name:_this.user.name})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:streamServerInfo=_context.sent;_this.chatClient=new browser_es[\"a\" /* StreamChat */](streamServerInfo.apiKey);_this.chatClient.connectUser(_this.user,streamServerInfo.token);_this.conversation=_this.chatClient.channel(\"commerce\",\"conversational-ui\");_context.next=11;return _this.conversation.watch();case 11:_this.conversation.on(\"message.new\",_this.onNewMessage);case 12:case\"end\":return _context.stop();}}},_callee);}));_this.addMessage=function(_ref2){var message=_ref2.message;if(!_this.user){_this.user={name:message.text,id:Date.now().toString()};var newMessage=Object.assign({},message);newMessage.text=\"Welcome to the chat \".concat(message.text,\"!\");newMessage.author=_this.bot;_this.setState({messages:[].concat(Object(toConsumableArray[\"a\" /* default */])(_this.state.messages),[newMessage])});_this.initialiseChatClient();}else{_this.conversation.sendMessage({text:message.text});}};_this.onNewMessage=function(event){var message={text:event.message.text,author:event.message.user,timestamp:event.message.created_at};_this.setState({messages:[].concat(Object(toConsumableArray[\"a\" /* default */])(_this.state.messages),[message])});};_this.user=undefined;_this.bot={id:\"0\",name:\"bot\"};_this.state={messages:[{author:_this.bot,timestamp:new Date(),text:\"Hello! Please enter a name in order to start a chat\"}]};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Conversational UI\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main[\"a\" /* Chat */],{user:this.user,messages:this.state.messages,onMessageSend:this.addMessage,placeholder:\"Type here...\",width:400})]});}}]);return App;}(react_default.a.Component);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 80)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[79,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/aniket/conversational-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/aniket/conversational-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/aniket/conversational-ui/node_modules/postcss-loader/src/index.js??postcss!/home/aniket/conversational-ui/src/index.css","/home/aniket/conversational-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/aniket/conversational-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/aniket/conversational-ui/node_modules/postcss-loader/src/index.js??postcss!/home/aniket/conversational-ui/src/App.css","/home/aniket/conversational-ui/src/App.js","/home/aniket/conversational-ui/src/reportWebVitals.js","/home/aniket/conversational-ui/src/index.js"],"names":["App","props","initialiseChatClient","fetch","method","mode","headers","body","JSON","stringify","id","user","name","response","json","streamServerInfo","chatClient","StreamChat","apiKey","connectUser","token","conversation","channel","watch","on","onNewMessage","addMessage","message","text","Date","now","toString","newMessage","Object","assign","author","bot","setState","messages","state","sendMessage","event","timestamp","created_at","undefined","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from \"react\";\nimport \"./App.css\";\nimport \"@progress/kendo-theme-default/dist/all.css\";\nimport { Chat } from \"@progress/kendo-react-conversational-ui\";\nimport { StreamChat } from \"stream-chat\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.user = undefined;\n    this.bot = { id: \"0\", name: \"bot\" };\n\n    this.state = {\n      messages: [\n        {\n          author: this.bot,\n          timestamp: new Date(),\n          text: \"Hello! Please enter a name in order to start a chat\"\n        }\n      ]\n    };\n  }\n\n  initialiseChatClient = async () => {\n    const response = await fetch(\"http://localhost:8080/v1/token\", {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: this.user.id,\n        name: this.user.name\n      })\n    });\n    const streamServerInfo = await response.json();\n\n    this.chatClient = new StreamChat(streamServerInfo.apiKey);\n    this.chatClient.connectUser(this.user, streamServerInfo.token);\n\n    this.conversation = this.chatClient.channel(\n      \"commerce\",\n      \"conversational-ui\"\n    );\n\n    await this.conversation.watch();\n    this.conversation.on(\"message.new\", this.onNewMessage);\n  };\n\n  addMessage = ({ message }) => {\n    if (!this.user) {\n      this.user = { name: message.text, id: Date.now().toString() };\n\n      let newMessage = Object.assign({}, message);\n      newMessage.text = `Welcome to the chat ${message.text}!`;\n      newMessage.author = this.bot;\n\n      this.setState({\n        messages: [...this.state.messages, newMessage]\n      });\n\n      this.initialiseChatClient();\n    } else {\n      this.conversation.sendMessage({ text: message.text });\n    }\n  };\n\n  onNewMessage = event => {\n    let message = {\n      text: event.message.text,\n      author: event.message.user,\n      timestamp: event.message.created_at\n    };\n\n    this.setState({\n      messages: [...this.state.messages, message]\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Conversational UI</h1>\n        <Chat\n          user={this.user}\n          messages={this.state.messages}\n          onMessageSend={this.addMessage}\n          placeholder={\"Type here...\"}\n          width={400}\n        ></Chat>\n      </div>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}