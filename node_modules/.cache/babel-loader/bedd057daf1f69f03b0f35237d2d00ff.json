{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport { Keys } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\n\nvar SelectableItemsContainer =\n/** @class */\nfunction (_super) {\n  __extends(SelectableItemsContainer, _super);\n\n  function SelectableItemsContainer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      selectedItemIndex: null\n    };\n\n    _this.onRequestContainerSelection = function () {\n      return _this.props.onRequestSelection(_this.props.group.selectionIndex);\n    };\n\n    _this.onKeyDown = function (event) {\n      var newSelectedItemIndex = null;\n      var decrementKeyCode;\n      var incrementKeyCode;\n\n      if (_this.isKeyboardNavigationLeftRight) {\n        decrementKeyCode = Keys.left;\n        incrementKeyCode = Keys.right;\n      } else {\n        decrementKeyCode = Keys.up;\n        incrementKeyCode = Keys.down;\n      }\n\n      if (event.keyCode === decrementKeyCode) {\n        newSelectedItemIndex = _this.navigate(false);\n      } else if (event.keyCode === incrementKeyCode) {\n        newSelectedItemIndex = _this.navigate(true);\n      }\n\n      if (newSelectedItemIndex !== null) {\n        // Prevent the default behaviour of moving of the scrollbar\n        // because scrolling is achieved through item focusing.\n        event.preventDefault(); // Stop propagation to remove the collision with the up/down\n        // keyboard navigation of the message list.\n\n        event.stopPropagation();\n      }\n    };\n\n    return _this;\n  }\n\n  SelectableItemsContainer.getDerivedStateFromProps = function (props, state) {\n    if (!props.selected && state.selectedItemIndex !== null) {\n      // Moving away from a selected group.\n      return {\n        selectedItemIndex: null\n      };\n    } else if (props.selected && state.selectedItemIndex === null) {\n      // Entering a group w/o directly choosing (e.g. clicking) a subitem.\n      return {\n        selectedItemIndex: 0\n      };\n    }\n\n    return null;\n  };\n\n  SelectableItemsContainer.prototype.navigate = function (incrementSelection, newSelectedItemIndexUponFirstIncrement) {\n    if (newSelectedItemIndexUponFirstIncrement === void 0) {\n      newSelectedItemIndexUponFirstIncrement = 0;\n    }\n\n    var result = null;\n    var currentlySelectedItemIndex = this.state.selectedItemIndex;\n\n    if (incrementSelection) {\n      if (currentlySelectedItemIndex === null) {\n        result = newSelectedItemIndexUponFirstIncrement;\n      } else if (currentlySelectedItemIndex < this.getLastSelectionIndex()) {\n        result = currentlySelectedItemIndex + 1;\n      }\n    } else {\n      if (currentlySelectedItemIndex === null) {\n        result = 0;\n      } else if (currentlySelectedItemIndex > 0) {\n        result = currentlySelectedItemIndex - 1;\n      }\n    }\n\n    if (result !== null) {\n      this.setState({\n        selectedItemIndex: result\n      });\n    }\n\n    return result;\n  };\n\n  Object.defineProperty(SelectableItemsContainer.prototype, \"isKeyboardNavigationLeftRight\", {\n    get: function () {\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SelectableItemsContainer.prototype.getLastSelectionIndex = function () {\n    var result = -1;\n\n    if (this.props.group.type === 'action-group') {\n      var actionGroup = this.props.group;\n      result = actionGroup.actions ? actionGroup.actions.length - 1 : -1;\n    } else if (this.props.group.type === 'attachment-group') {\n      var attachmentGroup = this.props.group;\n      result = attachmentGroup.attachments ? attachmentGroup.attachments.length - 1 : -1;\n    }\n\n    return result;\n  };\n\n  return SelectableItemsContainer;\n}(React.Component);\n\nexport { SelectableItemsContainer };","map":{"version":3,"sources":["../../../../src/components/base/SelectableItemsContainer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Keys } from '@progress/kendo-react-common';\n/**\n * @hidden\n */\nvar SelectableItemsContainer = /** @class */ (function (_super) {\n    __extends(SelectableItemsContainer, _super);\n    function SelectableItemsContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { selectedItemIndex: null };\n        _this.onRequestContainerSelection = function () { return _this.props.onRequestSelection(_this.props.group.selectionIndex); };\n        _this.onKeyDown = function (event) {\n            var newSelectedItemIndex = null;\n            var decrementKeyCode;\n            var incrementKeyCode;\n            if (_this.isKeyboardNavigationLeftRight) {\n                decrementKeyCode = Keys.left;\n                incrementKeyCode = Keys.right;\n            }\n            else {\n                decrementKeyCode = Keys.up;\n                incrementKeyCode = Keys.down;\n            }\n            if (event.keyCode === decrementKeyCode) {\n                newSelectedItemIndex = _this.navigate(false);\n            }\n            else if (event.keyCode === incrementKeyCode) {\n                newSelectedItemIndex = _this.navigate(true);\n            }\n            if (newSelectedItemIndex !== null) {\n                // Prevent the default behaviour of moving of the scrollbar\n                // because scrolling is achieved through item focusing.\n                event.preventDefault();\n                // Stop propagation to remove the collision with the up/down\n                // keyboard navigation of the message list.\n                event.stopPropagation();\n            }\n        };\n        return _this;\n    }\n    SelectableItemsContainer.getDerivedStateFromProps = function (props, state) {\n        if (!props.selected && state.selectedItemIndex !== null) {\n            // Moving away from a selected group.\n            return { selectedItemIndex: null };\n        }\n        else if (props.selected && state.selectedItemIndex === null) {\n            // Entering a group w/o directly choosing (e.g. clicking) a subitem.\n            return { selectedItemIndex: 0 };\n        }\n        return null;\n    };\n    SelectableItemsContainer.prototype.navigate = function (incrementSelection, newSelectedItemIndexUponFirstIncrement) {\n        if (newSelectedItemIndexUponFirstIncrement === void 0) { newSelectedItemIndexUponFirstIncrement = 0; }\n        var result = null;\n        var currentlySelectedItemIndex = this.state.selectedItemIndex;\n        if (incrementSelection) {\n            if (currentlySelectedItemIndex === null) {\n                result = newSelectedItemIndexUponFirstIncrement;\n            }\n            else if (currentlySelectedItemIndex < this.getLastSelectionIndex()) {\n                result = currentlySelectedItemIndex + 1;\n            }\n        }\n        else {\n            if (currentlySelectedItemIndex === null) {\n                result = 0;\n            }\n            else if (currentlySelectedItemIndex > 0) {\n                result = currentlySelectedItemIndex - 1;\n            }\n        }\n        if (result !== null) {\n            this.setState({ selectedItemIndex: result });\n        }\n        return result;\n    };\n    Object.defineProperty(SelectableItemsContainer.prototype, \"isKeyboardNavigationLeftRight\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectableItemsContainer.prototype.getLastSelectionIndex = function () {\n        var result = -1;\n        if (this.props.group.type === 'action-group') {\n            var actionGroup = this.props.group;\n            result = actionGroup.actions ? actionGroup.actions.length - 1 : -1;\n        }\n        else if (this.props.group.type === 'attachment-group') {\n            var attachmentGroup = this.props.group;\n            result = attachmentGroup.attachments ? attachmentGroup.attachments.length - 1 : -1;\n        }\n        return result;\n    };\n    return SelectableItemsContainer;\n}(React.Component));\nexport { SelectableItemsContainer };\n//# sourceMappingURL=SelectableItemsContainer.js.map"]},"metadata":{},"sourceType":"module"}