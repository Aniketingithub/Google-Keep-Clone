{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { useDir, getTabIndex, classNames } from '@progress/kendo-react-common';\nimport { selectionReducer } from './selection-reducer';\nimport { focusReducer } from './focus-reducer';\nimport { dataReducer } from './data-reducer';\nimport { Chip } from './Chip';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport { packageMetadata } from '../package-metadata';\n/**\n * @hidden\n */\n\nexport var ChipListSelectionContext = React.createContext([null, function (_args) {\n  /**/\n}]);\n/**\n * @hidden\n */\n\nexport var ChipListFocusContext = React.createContext([null, function (_args) {\n  /**/\n}]);\n/**\n * @hidden\n */\n\nexport var ChipListDataContext = React.createContext([null, function (_args) {\n  /**/\n}]);\n/**\n * @hidden\n */\n\nvar useSelection = function (defaultValue, args, callback) {\n  var _a = React.useState(defaultValue),\n      state = _a[0],\n      setState = _a[1];\n\n  var handleDispatchSelection = function (action) {\n    var newState = selectionReducer(args.state || state, __assign({}, action, args));\n\n    if (callback) {\n      callback(newState, action.event);\n    }\n\n    setState(newState);\n  };\n\n  return [state, handleDispatchSelection];\n};\n/**\n * @hidden\n */\n\n\nvar useFocus = function (args) {\n  var _a = React.useState(null),\n      state = _a[0],\n      setState = _a[1];\n\n  var handleDispatchFocus = function (action) {\n    var newState = focusReducer(action.payload, __assign({}, action, args));\n    setState(newState);\n  };\n\n  return [state, handleDispatchFocus];\n};\n/**\n * @hidden\n */\n\n\nvar useData = function (defaultData, args, callback) {\n  var _a = React.useState(defaultData),\n      state = _a[0],\n      setState = _a[1];\n\n  var handleDispatchData = function (action) {\n    var newState = dataReducer(args.state || state, __assign({}, action, args));\n\n    if (callback) {\n      callback(newState, action.event);\n    }\n\n    setState(newState);\n  };\n\n  return [state, handleDispatchData];\n};\n/**\n * Represents the ChipList component.\n */\n\n\nexport var ChipList = React.forwardRef(function (props, ref) {\n  validatePackage(packageMetadata);\n  var target = React.useRef(null);\n  var chipListRef = React.useRef(null);\n  var dir = useDir(chipListRef, props.dir);\n  var ChipComponent = React.useMemo(function () {\n    return props.chip || Chip;\n  }, [props.chip, Chip]);\n  var selection = React.useMemo(function () {\n    return props.selection || defaultProps.selection;\n  }, [props.selection, defaultProps.selection]);\n  React.useImperativeHandle(target, function () {\n    return {\n      element: chipListRef.current,\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n  var handleChange = React.useCallback(function (newValue, event) {\n    if (props.onChange && target.current) {\n      props.onChange.call(undefined, {\n        value: newValue,\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onChange]);\n\n  var _a = useSelection(props.value || props.defaultValue, {\n    selection: selection,\n    state: props.value\n  }, handleChange),\n      stateValue = _a[0],\n      dispatchStateValue = _a[1];\n\n  var handleDataChange = React.useCallback(function (newData, event) {\n    if (props.onDataChange && target.current) {\n      props.onDataChange.call(undefined, {\n        value: newData,\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onDataChange]);\n\n  var _b = useData(props.data || props.defaultData || defaultProps.defaultData, {\n    state: props.data,\n    valueField: props.valueField || defaultProps.valueField\n  }, handleDataChange),\n      stateData = _b[0],\n      dispatchData = _b[1];\n\n  var itemsReducer = React.useCallback(function (acc, current) {\n    acc.push(current[props.valueField || defaultProps.valueField]);\n    return acc;\n  }, [props.valueField, defaultProps.valueField]);\n  var data = React.useMemo(function () {\n    return props.data || stateData;\n  }, [props.data, stateData]);\n  var value = React.useMemo(function () {\n    return props.value || stateValue;\n  }, [props.value, stateValue]);\n  var items = React.useMemo(function () {\n    return data.reduce(itemsReducer, []);\n  }, [data, itemsReducer]);\n\n  var _c = useFocus({\n    items: items\n  }),\n      focus = _c[0],\n      dispatchFocus = _c[1];\n\n  return React.createElement(ChipListSelectionContext.Provider, {\n    value: [value, dispatchStateValue]\n  }, React.createElement(ChipListFocusContext.Provider, {\n    value: [focus, dispatchFocus]\n  }, React.createElement(ChipListDataContext.Provider, {\n    value: [data, dispatchData]\n  }, React.createElement(\"div\", {\n    ref: chipListRef,\n    role: 'listbox',\n    id: props.id,\n    dir: dir,\n    style: props.style,\n    tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined),\n    className: classNames('k-chip-list', {\n      'k-rtl': dir === 'rtl',\n      'k-selection-single': selection === 'single',\n      'k-selection-multiple': selection === 'multiple',\n      'k-state-disabled': props.disabled\n    }, props.className),\n    \"aria-labelledby\": props.ariaLabelledBy,\n    \"aria-describedby\": props.ariaDescribedBy\n  }, data.map(function (item) {\n    return React.createElement(ChipComponent, {\n      role: 'option',\n      dataItem: item,\n      key: item[props.valueField || defaultProps.valueField],\n      text: item[props.textField || defaultProps.textField],\n      value: item[props.valueField || defaultProps.valueField]\n    });\n  })))));\n});\nvar propTypes = {\n  id: PropTypes.string,\n  className: PropTypes.string,\n  tabIndex: PropTypes.number,\n  data: PropTypes.any,\n  defaultData: PropTypes.arrayOf(PropTypes.any),\n  onDataChange: PropTypes.func,\n  value: PropTypes.oneOfType([PropTypes.any, PropTypes.arrayOf(PropTypes.any)]),\n  defaultValue: PropTypes.oneOfType([PropTypes.any, PropTypes.arrayOf(PropTypes.any)]),\n  onChange: PropTypes.func,\n  selection: PropTypes.oneOf(['single', 'multiple']),\n  textField: PropTypes.string,\n  valueField: PropTypes.string,\n  disabled: PropTypes.bool,\n  dir: PropTypes.oneOf(['ltr', 'rtl']),\n  ariaLabelledBy: PropTypes.string,\n  ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n  chip: Chip,\n  disabled: false,\n  defaultValue: null,\n  defaultData: [],\n  dir: 'ltr',\n  selection: 'none',\n  textField: 'text',\n  valueField: 'value',\n  removable: 'removable'\n};\nChipList.displayName = 'KendoReactChipList'; // TODO: delete casting when @types/react is updated!\n\nChipList.propTypes = propTypes;\nChipList.defaultProps = defaultProps;","map":{"version":3,"sources":["../../../src/Chip/ChipList.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { useDir, getTabIndex, classNames } from '@progress/kendo-react-common';\nimport { selectionReducer } from './selection-reducer';\nimport { focusReducer } from './focus-reducer';\nimport { dataReducer } from './data-reducer';\nimport { Chip } from './Chip';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport { packageMetadata } from '../package-metadata';\n/**\n * @hidden\n */\nexport var ChipListSelectionContext = React.createContext([null, function (_args) {\n        /**/\n    }]);\n/**\n * @hidden\n */\nexport var ChipListFocusContext = React.createContext([null, function (_args) {\n        /**/\n    }]);\n/**\n * @hidden\n */\nexport var ChipListDataContext = React.createContext([null, function (_args) {\n        /**/\n    }]);\n/**\n * @hidden\n */\nvar useSelection = function (defaultValue, args, callback) {\n    var _a = React.useState(defaultValue), state = _a[0], setState = _a[1];\n    var handleDispatchSelection = function (action) {\n        var newState = selectionReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchSelection];\n};\n/**\n * @hidden\n */\nvar useFocus = function (args) {\n    var _a = React.useState(null), state = _a[0], setState = _a[1];\n    var handleDispatchFocus = function (action) {\n        var newState = focusReducer(action.payload, __assign({}, action, args));\n        setState(newState);\n    };\n    return [state, handleDispatchFocus];\n};\n/**\n * @hidden\n */\nvar useData = function (defaultData, args, callback) {\n    var _a = React.useState(defaultData), state = _a[0], setState = _a[1];\n    var handleDispatchData = function (action) {\n        var newState = dataReducer(args.state || state, __assign({}, action, args));\n        if (callback) {\n            callback(newState, action.event);\n        }\n        setState(newState);\n    };\n    return [state, handleDispatchData];\n};\n/**\n * Represents the ChipList component.\n */\nexport var ChipList = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var target = React.useRef(null);\n    var chipListRef = React.useRef(null);\n    var dir = useDir(chipListRef, props.dir);\n    var ChipComponent = React.useMemo(function () { return props.chip || Chip; }, [props.chip, Chip]);\n    var selection = React.useMemo(function () { return props.selection || defaultProps.selection; }, [props.selection, defaultProps.selection]);\n    React.useImperativeHandle(target, function () { return ({\n        element: chipListRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var handleChange = React.useCallback(function (newValue, event) {\n        if (props.onChange && target.current) {\n            props.onChange.call(undefined, {\n                value: newValue,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onChange]);\n    var _a = useSelection(props.value || props.defaultValue, {\n        selection: selection,\n        state: props.value\n    }, handleChange), stateValue = _a[0], dispatchStateValue = _a[1];\n    var handleDataChange = React.useCallback(function (newData, event) {\n        if (props.onDataChange && target.current) {\n            props.onDataChange.call(undefined, {\n                value: newData,\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onDataChange]);\n    var _b = useData(props.data || props.defaultData || defaultProps.defaultData, {\n        state: props.data,\n        valueField: props.valueField || defaultProps.valueField\n    }, handleDataChange), stateData = _b[0], dispatchData = _b[1];\n    var itemsReducer = React.useCallback(function (acc, current) {\n        acc.push(current[props.valueField || defaultProps.valueField]);\n        return acc;\n    }, [props.valueField, defaultProps.valueField]);\n    var data = React.useMemo(function () { return props.data || stateData; }, [props.data, stateData]);\n    var value = React.useMemo(function () { return props.value || stateValue; }, [props.value, stateValue]);\n    var items = React.useMemo(function () { return data.reduce(itemsReducer, []); }, [data, itemsReducer]);\n    var _c = useFocus({ items: items }), focus = _c[0], dispatchFocus = _c[1];\n    return (React.createElement(ChipListSelectionContext.Provider, { value: [value, dispatchStateValue] },\n        React.createElement(ChipListFocusContext.Provider, { value: [focus, dispatchFocus] },\n            React.createElement(ChipListDataContext.Provider, { value: [data, dispatchData] },\n                React.createElement(\"div\", { ref: chipListRef, role: 'listbox', id: props.id, dir: dir, style: props.style, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-chip-list', {\n                        'k-rtl': dir === 'rtl',\n                        'k-selection-single': selection === 'single',\n                        'k-selection-multiple': selection === 'multiple',\n                        'k-state-disabled': props.disabled\n                    }, props.className), \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy }, data.map(function (item) {\n                    return (React.createElement(ChipComponent, { role: 'option', dataItem: item, key: item[props.valueField || defaultProps.valueField], text: item[props.textField || defaultProps.textField], value: item[props.valueField || defaultProps.valueField] }));\n                }))))));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    tabIndex: PropTypes.number,\n    data: PropTypes.any,\n    defaultData: PropTypes.arrayOf(PropTypes.any),\n    onDataChange: PropTypes.func,\n    value: PropTypes.oneOfType([PropTypes.any, PropTypes.arrayOf(PropTypes.any)]),\n    defaultValue: PropTypes.oneOfType([PropTypes.any, PropTypes.arrayOf(PropTypes.any)]),\n    onChange: PropTypes.func,\n    selection: PropTypes.oneOf(['single', 'multiple']),\n    textField: PropTypes.string,\n    valueField: PropTypes.string,\n    disabled: PropTypes.bool,\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    chip: Chip,\n    disabled: false,\n    defaultValue: null,\n    defaultData: [],\n    dir: 'ltr',\n    selection: 'none',\n    textField: 'text',\n    valueField: 'value',\n    removable: 'removable'\n};\nChipList.displayName = 'KendoReactChipList';\n// TODO: delete casting when @types/react is updated!\nChipList.propTypes = propTypes;\nChipList.defaultProps = defaultProps;\n//# sourceMappingURL=ChipList.js.map"]},"metadata":{},"sourceType":"module"}