{"ast":null,"code":"/**\n * @hidden\n */\nexport var SELECTION_TYPE;\n\n(function (SELECTION_TYPE) {\n  SELECTION_TYPE[\"single\"] = \"single\";\n  SELECTION_TYPE[\"multiple\"] = \"multiple\";\n  SELECTION_TYPE[\"none\"] = \"none\";\n})(SELECTION_TYPE || (SELECTION_TYPE = {}));\n/**\n * @hidden\n */\n\n\nexport var SELECTION_ACTION;\n\n(function (SELECTION_ACTION) {\n  SELECTION_ACTION[\"toggle\"] = \"toggle\";\n  SELECTION_ACTION[\"remove\"] = \"remove\";\n})(SELECTION_ACTION || (SELECTION_ACTION = {}));\n/**\n * @hidden\n */\n\n\nexport var selectionReducer = function (state, action) {\n  switch (action.selection) {\n    case SELECTION_TYPE.single:\n      switch (action.type) {\n        case SELECTION_ACTION.toggle:\n          {\n            if (!Array.isArray(state) || state === null) {\n              return action.payload === state ? null : action.payload;\n            }\n\n            throw new Error('State cannot be an array in single selection');\n          }\n\n        case SELECTION_ACTION.remove:\n          {\n            return action.payload === state ? null : state;\n          }\n\n        default:\n          return state;\n      }\n\n    case SELECTION_TYPE.multiple:\n      switch (action.type) {\n        case SELECTION_ACTION.toggle:\n          {\n            if (Array.isArray(state)) {\n              return state.some(function (i) {\n                return i === action.payload;\n              }) ? state.filter(function (i) {\n                return i !== action.payload;\n              }) : state.concat([action.payload]);\n            }\n\n            if (state === null) {\n              return [action.payload];\n            }\n\n            throw new Error('State cannot be non-array in multiple selection');\n          }\n\n        case SELECTION_ACTION.remove:\n          {\n            if (Array.isArray(state)) {\n              return state.some(function (i) {\n                return i === action.payload;\n              }) ? state.filter(function (i) {\n                return i !== action.payload;\n              }) : state.concat([action.payload]);\n            }\n\n            return state;\n          }\n\n        default:\n          return state;\n      }\n\n    case SELECTION_TYPE.none:\n      return null;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["../../../src/Chip/selection-reducer.tsx"],"names":[],"mappings":"AAEA;;AAEG;AACH,OAAA,IAAY,cAAZ;;AAAA,CAAA,UAAY,cAAZ,EAA0B;AACtB,EAAA,cAAA,CAAA,QAAA,CAAA,GAAA,QAAA;AACA,EAAA,cAAA,CAAA,UAAA,CAAA,GAAA,UAAA;AACA,EAAA,cAAA,CAAA,MAAA,CAAA,GAAA,MAAA;AACH,CAJD,EAAY,cAAc,KAAd,cAAc,GAAA,EAAA,CAA1B;AAMA;;AAEG;;;AACH,OAAA,IAAY,gBAAZ;;AAAA,CAAA,UAAY,gBAAZ,EAA4B;AACxB,EAAA,gBAAA,CAAA,QAAA,CAAA,GAAA,QAAA;AACA,EAAA,gBAAA,CAAA,QAAA,CAAA,GAAA,QAAA;AACH,CAHD,EAAY,gBAAgB,KAAhB,gBAAgB,GAAA,EAAA,CAA5B;AAgBA;;AAEG;;;AACH,OAAO,IAAM,gBAAgB,GAAG,UAAC,KAAD,EAAQ,MAAR,EAA+B;AAC3D,UAAQ,MAAM,CAAC,SAAf;AACI,SAAK,cAAc,CAAC,MAApB;AACI,cAAQ,MAAM,CAAC,IAAf;AACI,aAAK,gBAAgB,CAAC,MAAtB;AAA8B;AAC1B,gBAAI,CAAC,KAAK,CAAC,OAAN,CAAc,KAAd,CAAD,IAAyB,KAAK,KAAK,IAAvC,EAA6C;AACzC,qBAAO,MAAM,CAAC,OAAP,KAAmB,KAAnB,GAA2B,IAA3B,GAAmC,MAAM,CAAC,OAAjD;AACH;;AACD,kBAAM,IAAI,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,aAAK,gBAAgB,CAAC,MAAtB;AAA8B;AAC1B,mBAAO,MAAM,CAAC,OAAP,KAAmB,KAAnB,GAA2B,IAA3B,GAAmC,KAA1C;AACH;;AACD;AACI,iBAAO,KAAP;AAXR;;AAcJ,SAAK,cAAc,CAAC,QAApB;AACI,cAAQ,MAAM,CAAC,IAAf;AACI,aAAK,gBAAgB,CAAC,MAAtB;AAA8B;AAC1B,gBAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AACtB,qBAAO,KAAK,CAAC,IAAN,CAAW,UAAA,CAAA,EAAC;AAAI,uBAAA,CAAC,KAAK,MAAM,CAAZ,OAAA;AAAoB,eAApC,IACD,KAAK,CAAC,MAAN,CAAa,UAAA,CAAA,EAAC;AAAI,uBAAA,CAAC,KAAK,MAAM,CAAZ,OAAA;AAAoB,eAAtC,CADC,GAEG,KAAK,CAAA,MAAL,CAAK,CAAE,MAAM,CAAC,OAAT,CAAL,CAFV;AAGH;;AACD,gBAAI,KAAK,KAAK,IAAd,EAAoB;AAChB,qBAAO,CAAC,MAAM,CAAC,OAAR,CAAP;AACH;;AACD,kBAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN;AACH;;AACD,aAAK,gBAAgB,CAAC,MAAtB;AAA8B;AAC1B,gBAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AACtB,qBAAO,KAAK,CAAC,IAAN,CAAW,UAAA,CAAA,EAAC;AAAI,uBAAA,CAAC,KAAK,MAAM,CAAZ,OAAA;AAAoB,eAApC,IACD,KAAK,CAAC,MAAN,CAAa,UAAA,CAAA,EAAC;AAAI,uBAAA,CAAC,KAAK,MAAM,CAAZ,OAAA;AAAoB,eAAtC,CADC,GAEG,KAAK,CAAA,MAAL,CAAK,CAAE,MAAM,CAAC,OAAT,CAAL,CAFV;AAGH;;AACD,mBAAO,KAAP;AACH;;AACD;AACI,iBAAO,KAAP;AArBR;;AAwBJ,SAAK,cAAc,CAAC,IAApB;AACI,aAAO,IAAP;;AACJ;AACI,aAAO,KAAP;AA5CR;AA8CH,CA/CM","sourceRoot":"","sourcesContent":["/**\n * @hidden\n */\nexport var SELECTION_TYPE;\n(function (SELECTION_TYPE) {\n    SELECTION_TYPE[\"single\"] = \"single\";\n    SELECTION_TYPE[\"multiple\"] = \"multiple\";\n    SELECTION_TYPE[\"none\"] = \"none\";\n})(SELECTION_TYPE || (SELECTION_TYPE = {}));\n/**\n * @hidden\n */\nexport var SELECTION_ACTION;\n(function (SELECTION_ACTION) {\n    SELECTION_ACTION[\"toggle\"] = \"toggle\";\n    SELECTION_ACTION[\"remove\"] = \"remove\";\n})(SELECTION_ACTION || (SELECTION_ACTION = {}));\n/**\n * @hidden\n */\nexport var selectionReducer = function (state, action) {\n    switch (action.selection) {\n        case SELECTION_TYPE.single:\n            switch (action.type) {\n                case SELECTION_ACTION.toggle: {\n                    if (!Array.isArray(state) || state === null) {\n                        return action.payload === state ? null : action.payload;\n                    }\n                    throw new Error('State cannot be an array in single selection');\n                }\n                case SELECTION_ACTION.remove: {\n                    return action.payload === state ? null : state;\n                }\n                default:\n                    return state;\n            }\n        case SELECTION_TYPE.multiple:\n            switch (action.type) {\n                case SELECTION_ACTION.toggle: {\n                    if (Array.isArray(state)) {\n                        return state.some(function (i) { return i === action.payload; })\n                            ? state.filter(function (i) { return i !== action.payload; })\n                            : state.concat([action.payload]);\n                    }\n                    if (state === null) {\n                        return [action.payload];\n                    }\n                    throw new Error('State cannot be non-array in multiple selection');\n                }\n                case SELECTION_ACTION.remove: {\n                    if (Array.isArray(state)) {\n                        return state.some(function (i) { return i === action.payload; })\n                            ? state.filter(function (i) { return i !== action.payload; })\n                            : state.concat([action.payload]);\n                    }\n                    return state;\n                }\n                default:\n                    return state;\n            }\n        case SELECTION_TYPE.none:\n            return null;\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=selection-reducer.js.map"]},"metadata":{},"sourceType":"module"}