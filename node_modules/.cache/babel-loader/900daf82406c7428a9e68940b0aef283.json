{"ast":null,"code":"import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ChipListSelectionContext, ChipListFocusContext, ChipListDataContext } from './ChipList';\nimport { classNames, useDir, getTabIndex, Keys } from '@progress/kendo-react-common';\nimport { FOCUS_ACTION } from './focus-reducer';\nimport { DATA_ACTION } from './data-reducer';\nimport { SELECTION_ACTION } from './selection-reducer';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the Chip component.\n */\n\nexport var Chip = React.forwardRef(function (props, ref) {\n  validatePackage(packageMetadata);\n  var target = React.useRef(null);\n  var chipRef = React.useRef(null);\n  var dir = useDir(chipRef, props.dir);\n  React.useImperativeHandle(target, function () {\n    return {\n      element: chipRef.current,\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n\n  var _a = React.useContext(ChipListSelectionContext),\n      selection = _a[0],\n      dispatchSelection = _a[1];\n\n  var _b = React.useContext(ChipListFocusContext),\n      focus = _b[0],\n      dispatchFocus = _b[1];\n\n  var _c = React.useContext(ChipListDataContext),\n      dispatchData = _c[1];\n\n  var selected = React.useMemo(function () {\n    return props.selected || (Array.isArray(selection) ? selection.some(function (i) {\n      return i === props.value;\n    }) : selection === props.value);\n  }, [props.selected, props.value, selection]);\n  var focused = React.useMemo(function () {\n    return focus === props.value;\n  }, [props.value, focus]);\n  var look = React.useMemo(function () {\n    return props.look || defaultProps.look;\n  }, [props.look]);\n  React.useEffect(function () {\n    if (focused && chipRef.current) {\n      chipRef.current.focus();\n    }\n  }, [focused]); // React.useEffect(() => dispatchItemsContext({type: FOCUS_ACTION.register, payload: target }), []);\n\n  var handleClick = React.useCallback(function (event) {\n    dispatchSelection({\n      type: SELECTION_ACTION.toggle,\n      payload: props.value,\n      event: event\n    });\n\n    if (props.onClick) {\n      props.onClick.call(undefined, {\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onClick, dispatchSelection, props.value]);\n  var handleRemove = React.useCallback(function (event) {\n    if (!props.removable) {\n      return;\n    }\n\n    dispatchData({\n      type: DATA_ACTION.remove,\n      payload: props.value,\n      event: event\n    });\n    dispatchFocus({\n      type: FOCUS_ACTION.reset,\n      payload: props.value,\n      event: event\n    });\n    dispatchSelection({\n      type: SELECTION_ACTION.remove,\n      payload: props.value,\n      event: event\n    });\n\n    if (props.onRemove) {\n      props.onRemove.call(undefined, {\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onRemove, props.removable, dispatchData, dispatchFocus, dispatchSelection]);\n  var handleKeyDown = React.useCallback(function (event) {\n    switch (event.keyCode) {\n      case Keys.left:\n        dispatchFocus({\n          type: FOCUS_ACTION.prev,\n          payload: props.value,\n          event: event\n        });\n        break;\n\n      case Keys.right:\n        dispatchFocus({\n          type: FOCUS_ACTION.next,\n          payload: props.value,\n          event: event\n        });\n        break;\n\n      case Keys.enter:\n        dispatchSelection({\n          type: SELECTION_ACTION.toggle,\n          payload: props.value,\n          event: event\n        });\n        break;\n\n      case Keys.delete:\n        handleRemove(event);\n        break;\n\n      default:\n        break;\n    }\n\n    if (props.onKeyDown) {\n      props.onKeyDown.call(undefined, {\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onKeyDown, dispatchFocus, dispatchSelection, handleRemove]);\n  var handleFocus = React.useCallback(function (event) {\n    dispatchFocus({\n      payload: props.value,\n      type: FOCUS_ACTION.current,\n      event: event\n    });\n\n    if (props.onFocus) {\n      props.onFocus.call(undefined, {\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onFocus, dispatchFocus]);\n  var handleBlur = React.useCallback(function (event) {\n    if (props.onBlur) {\n      props.onBlur.call(undefined, {\n        target: target.current,\n        syntheticEvent: event\n      });\n    }\n  }, [props.onBlur]);\n  return React.createElement(\"div\", {\n    role: props.role,\n    id: props.value,\n    style: props.style,\n    ref: chipRef,\n    dir: dir,\n    tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined),\n    className: classNames('k-chip', {\n      'k-rtl': dir === 'rtl',\n      'k-chip-disabled': props.disabled,\n      'k-chip-selected': selected,\n      'k-chip-focused': focused,\n      'k-chip-success': props.type === 'success',\n      'k-chip-warning': props.type === 'warning',\n      'k-chip-error': props.type === 'error',\n      'k-chip-info': props.type === 'info',\n      'k-chip-has-icon': props.icon,\n      'k-chip-outline': look === 'outlined',\n      'k-chip-filled': look === 'filled'\n    }, props.className),\n    \"aria-checked\": selected,\n    \"aria-disabled\": props.disabled,\n    \"aria-describedby\": props.ariaDescribedBy,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown\n  }, React.createElement(\"span\", {\n    className: 'k-selected-icon-wrapper'\n  }, selected && React.createElement(\"span\", {\n    className: \"k-selected-icon k-icon \" + (props.selectedIcon || defaultProps.selectedIcon)\n  })), props.icon && React.createElement(\"span\", {\n    className: \"k-icon k-chip-icon \" + props.icon\n  }), React.createElement(\"span\", {\n    className: 'k-chip-content'\n  }, props.children !== undefined ? props.children : props.text && React.createElement(\"span\", {\n    \"aria-label\": props.text,\n    className: 'k-chip-label'\n  }, props.text)), props.removable && React.createElement(\"span\", {\n    className: 'k-remove-icon',\n    onClick: handleRemove\n  }, React.createElement(\"span\", {\n    className: \"k-icon \" + props.removeIcon\n  })));\n});\nvar propTypes = {\n  id: PropTypes.string,\n  text: PropTypes.string,\n  value: PropTypes.any,\n  type: PropTypes.oneOf(['none', 'success', 'warning', 'error', 'info']),\n  dir: PropTypes.oneOf(['ltr', 'rtl']),\n  removable: PropTypes.bool,\n  removeIcon: PropTypes.string,\n  disabled: PropTypes.bool,\n  icon: PropTypes.string,\n  selectedIcon: PropTypes.string,\n  look: PropTypes.string,\n  onRemove: PropTypes.func,\n  dataItem: PropTypes.any,\n  selected: PropTypes.bool,\n  ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n  disabled: false,\n  removable: false,\n  selectedIcon: 'k-i-check',\n  look: 'filled',\n  removeIcon: 'k-i-close-circle',\n  dir: 'ltr'\n};\nChip.displayName = 'KendoReactChip'; // TODO: delete casting when @types/react is updated!\n\nChip.propTypes = propTypes;\nChip.defaultProps = defaultProps;","map":{"version":3,"sources":["../../../src/Chip/Chip.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ChipListSelectionContext, ChipListFocusContext, ChipListDataContext } from './ChipList';\nimport { classNames, useDir, getTabIndex, Keys } from '@progress/kendo-react-common';\nimport { FOCUS_ACTION } from './focus-reducer';\nimport { DATA_ACTION } from './data-reducer';\nimport { SELECTION_ACTION } from './selection-reducer';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the Chip component.\n */\nexport var Chip = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var target = React.useRef(null);\n    var chipRef = React.useRef(null);\n    var dir = useDir(chipRef, props.dir);\n    React.useImperativeHandle(target, function () { return ({\n        element: chipRef.current,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var _a = React.useContext(ChipListSelectionContext), selection = _a[0], dispatchSelection = _a[1];\n    var _b = React.useContext(ChipListFocusContext), focus = _b[0], dispatchFocus = _b[1];\n    var _c = React.useContext(ChipListDataContext), dispatchData = _c[1];\n    var selected = React.useMemo(function () {\n        return (props.selected || (Array.isArray(selection)\n            ? selection.some(function (i) { return i === props.value; })\n            : selection === props.value));\n    }, [props.selected, props.value, selection]);\n    var focused = React.useMemo(function () { return focus === props.value; }, [props.value, focus]);\n    var look = React.useMemo(function () { return props.look || defaultProps.look; }, [props.look]);\n    React.useEffect(function () {\n        if (focused && chipRef.current) {\n            chipRef.current.focus();\n        }\n    }, [focused]);\n    // React.useEffect(() => dispatchItemsContext({type: FOCUS_ACTION.register, payload: target }), []);\n    var handleClick = React.useCallback(function (event) {\n        dispatchSelection({ type: SELECTION_ACTION.toggle, payload: props.value, event: event });\n        if (props.onClick) {\n            props.onClick.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onClick, dispatchSelection, props.value]);\n    var handleRemove = React.useCallback(function (event) {\n        if (!props.removable) {\n            return;\n        }\n        dispatchData({ type: DATA_ACTION.remove, payload: props.value, event: event });\n        dispatchFocus({ type: FOCUS_ACTION.reset, payload: props.value, event: event });\n        dispatchSelection({ type: SELECTION_ACTION.remove, payload: props.value, event: event });\n        if (props.onRemove) {\n            props.onRemove.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onRemove, props.removable, dispatchData, dispatchFocus, dispatchSelection]);\n    var handleKeyDown = React.useCallback(function (event) {\n        switch (event.keyCode) {\n            case Keys.left:\n                dispatchFocus({ type: FOCUS_ACTION.prev, payload: props.value, event: event });\n                break;\n            case Keys.right:\n                dispatchFocus({ type: FOCUS_ACTION.next, payload: props.value, event: event });\n                break;\n            case Keys.enter:\n                dispatchSelection({ type: SELECTION_ACTION.toggle, payload: props.value, event: event });\n                break;\n            case Keys.delete:\n                handleRemove(event);\n                break;\n            default:\n                break;\n        }\n        if (props.onKeyDown) {\n            props.onKeyDown.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onKeyDown, dispatchFocus, dispatchSelection, handleRemove]);\n    var handleFocus = React.useCallback(function (event) {\n        dispatchFocus({ payload: props.value, type: FOCUS_ACTION.current, event: event });\n        if (props.onFocus) {\n            props.onFocus.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onFocus, dispatchFocus]);\n    var handleBlur = React.useCallback(function (event) {\n        if (props.onBlur) {\n            props.onBlur.call(undefined, {\n                target: target.current,\n                syntheticEvent: event\n            });\n        }\n    }, [props.onBlur]);\n    return (React.createElement(\"div\", { role: props.role, id: props.value, style: props.style, ref: chipRef, dir: dir, tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), className: classNames('k-chip', {\n            'k-rtl': dir === 'rtl',\n            'k-chip-disabled': props.disabled,\n            'k-chip-selected': selected,\n            'k-chip-focused': focused,\n            'k-chip-success': props.type === 'success',\n            'k-chip-warning': props.type === 'warning',\n            'k-chip-error': props.type === 'error',\n            'k-chip-info': props.type === 'info',\n            'k-chip-has-icon': props.icon,\n            'k-chip-outline': look === 'outlined',\n            'k-chip-filled': look === 'filled'\n        }, props.className), \"aria-checked\": selected, \"aria-disabled\": props.disabled, \"aria-describedby\": props.ariaDescribedBy, onFocus: handleFocus, onBlur: handleBlur, onClick: handleClick, onKeyDown: handleKeyDown },\n        React.createElement(\"span\", { className: 'k-selected-icon-wrapper' }, selected && React.createElement(\"span\", { className: \"k-selected-icon k-icon \" + (props.selectedIcon || defaultProps.selectedIcon) })),\n        props.icon && React.createElement(\"span\", { className: \"k-icon k-chip-icon \" + props.icon }),\n        React.createElement(\"span\", { className: 'k-chip-content' }, props.children !== undefined\n            ? props.children\n            : props.text &&\n                React.createElement(\"span\", { \"aria-label\": props.text, className: 'k-chip-label' }, props.text)),\n        props.removable &&\n            React.createElement(\"span\", { className: 'k-remove-icon', onClick: handleRemove },\n                React.createElement(\"span\", { className: \"k-icon \" + props.removeIcon }))));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    text: PropTypes.string,\n    value: PropTypes.any,\n    type: PropTypes.oneOf([\n        'none',\n        'success',\n        'warning',\n        'error',\n        'info'\n    ]),\n    dir: PropTypes.oneOf(['ltr', 'rtl']),\n    removable: PropTypes.bool,\n    removeIcon: PropTypes.string,\n    disabled: PropTypes.bool,\n    icon: PropTypes.string,\n    selectedIcon: PropTypes.string,\n    look: PropTypes.string,\n    onRemove: PropTypes.func,\n    dataItem: PropTypes.any,\n    selected: PropTypes.bool,\n    ariaDescribedBy: PropTypes.string\n};\nvar defaultProps = {\n    disabled: false,\n    removable: false,\n    selectedIcon: 'k-i-check',\n    look: 'filled',\n    removeIcon: 'k-i-close-circle',\n    dir: 'ltr'\n};\nChip.displayName = 'KendoReactChip';\n// TODO: delete casting when @types/react is updated!\nChip.propTypes = propTypes;\nChip.defaultProps = defaultProps;\n//# sourceMappingURL=Chip.js.map"]},"metadata":{},"sourceType":"module"}